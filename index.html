<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>10å•ã‚¯ã‚¤ã‚ºã‚²ãƒ¼ãƒ </title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #fdf6f0;
      text-align: center;
      padding: 3rem;
    }
    .quiz-container, .start-screen, .result-screen {
      background: #fff0f5;
      padding: 2rem;
      border-radius: 10px;
      display: inline-block;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    }
    .answers button {
      margin: 0.5rem;
      padding: 0.5rem 1.2rem;
      font-size: 1rem;
      border: none;
      border-radius: 6px;
      background-color: #ffb6c1;
      color: white;
      cursor: pointer;
      transition: background-color 0.2s ease;
    }
    .answers button:hover {
      background-color: #ff69b4;
    }
    #result {
      margin-top: 1rem;
      font-weight: bold;
    }
    #timer {
      font-weight: bold;
      color: #d6336c;
      margin-bottom: 1rem;
      font-size: 1.2rem;
    }
    .hidden { display: none; }
    .start-screen button, .result-screen button {
      margin-top: 40px;
      padding: 14px 30px;
      font-size: 1.5em;
      background-color: #ff80ab;
      color: white;
      border: none;
      border-radius: 15px;
      cursor: pointer;
    }
  </style>
</head>
<body>

  <!-- ã‚¹ã‚¿ãƒ¼ãƒˆç”»é¢ -->
  <div id="start-screen" class="start-screen">
    <div class="emoji">ğŸ§ ğŸ’¡ğŸ®</div>
    <h1>10å•ã‚¯ã‚¤ã‚ºã‚²ãƒ¼ãƒ ï¼</h1>
    <p>çŸ¥è­˜ã‚’è©¦ãã†ï¼<br>æº–å‚™ãŒã§ããŸã‚‰ã‚¹ã‚¿ãƒ¼ãƒˆï¼</p>
    <button onclick="startQuiz()">â–¶ ã‚¯ã‚¤ã‚ºã‚’å§‹ã‚ã‚‹</button>
  </div>

  <!-- ã‚¯ã‚¤ã‚ºç”»é¢ -->
  <div id="quiz-screen" class="quiz-container hidden">
    <p id="timer"></p>
    <h1>ã‚¯ã‚¤ã‚ºã«æŒ‘æˆ¦ï¼</h1>
    <p id="question">å•é¡ŒãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™</p>
    <div class="answers">
      <button class="answer-button">A</button>
      <button class="answer-button">B</button>
      <button class="answer-button">C</button>
    </div>
    <p id="result"></p>
    <p id="explanation"></p>
    <p id="comment"></p>
    <button id="reset-btn" onclick="resetQuiz()" class="hidden">ğŸ” ã‚‚ã†ä¸€åº¦ãƒãƒ£ãƒ¬ãƒ³ã‚¸</button>
    <button id="next-btn" onclick="nextQuestion()">æ¬¡ã®å•é¡Œ â–¶</button>
  </div>

  <!-- çµæœç”»é¢ -->
  <div id="result-screen" class="result-screen hidden">
    <h1>ğŸ‰ çµæœç™ºè¡¨ ğŸ‰</h1>
    <div id="score" style="font-size: 2em; color: #4caf50;"></div>
    <div id="rate" style="font-size: 1.5em; color: #2196f3;"></div>
    <div id="final-comment" style="font-size: 1.8em; margin-top: 30px; color: #ff69b4;"></div>
    <button onclick="resetQuiz()">ğŸ” ã‚‚ã†ä¸€åº¦ãƒãƒ£ãƒ¬ãƒ³ã‚¸</button>
  </div>

  <script>
    const quizData = [
      { question: "æ—¥æœ¬ã®é¦–éƒ½ã¯ï¼Ÿ", answers: ["å¤§é˜ª", "æ±äº¬", "äº¬éƒ½"], correct: "æ±äº¬", explanation: "æ±äº¬ã¯æ—¥æœ¬ã®é¦–éƒ½ã§ã™ã€‚" },
      { question: "æ¡œã®é–‹èŠ±æ™‚æœŸã¯ï¼Ÿ", answers: ["12æœˆ", "3ã€œ4æœˆ", "8æœˆ"], correct: "3ã€œ4æœˆ", explanation: "æ¡œã¯æ˜¥ã«å’²ãã¾ã™ã€‚" },
      { question: "æ—¥æœ¬ã§ä¸€ç•ªé«˜ã„å±±ã¯ï¼Ÿ", answers: ["å¯Œå£«å±±", "æ§ãƒ¶å²³", "åŒ—å²³"], correct: "å¯Œå£«å±±", explanation: "æ¨™é«˜3,776mã§ã™ã€‚" },
      { question: "æ—¥æœ¬ã®é€šè²¨å˜ä½ã¯ï¼Ÿ", answers: ["ã‚¦ã‚©ãƒ³", "ãƒ‰ãƒ«", "å††"], correct: "å††", explanation: "æ—¥æœ¬ã§ã¯ã€å††ã€ã‚’ä½¿ã„ã¾ã™ã€‚" },
      { question: "ã²ã¾ã‚ã‚Šã®å’²ãå­£ç¯€ã¯ï¼Ÿ", answers: ["æ˜¥", "å¤", "ç§‹"], correct: "å¤", explanation: "å¤ã«å’²ãèŠ±ã§ã™ã€‚" },
      { question: "æ˜¥ã®ä¸ƒè‰ã«å«ã¾ã‚Œã‚‹ã®ã¯ï¼Ÿ", answers: ["ã‚ˆã‚‚ã", "ã›ã‚Š", "ã‚«ãƒ¢ãƒŸãƒ¼ãƒ«"], correct: "ã›ã‚Š", explanation: "æ˜¥ã®ä¸ƒè‰ã®1ã¤ã§ã™ã€‚" },
      { question: "4æœˆã®ç¥æ—¥ã¯ï¼Ÿ", answers: ["ã“ã©ã‚‚ã®æ—¥", "æ˜­å’Œã®æ—¥", "æ•¬è€ã®æ—¥"], correct: "æ˜­å’Œã®æ—¥", explanation: "4æœˆ29æ—¥ã§ã™ã€‚" },
      { question: "æ¡œã®è‹±èªåã¯ï¼Ÿ", answers: ["cherry", "plum", "peach"], correct: "cherry", explanation: "cherry blossomã¨ã„ã„ã¾ã™ã€‚" },
      { question: "ãŸã‚“ã½ã½ã®ç¶¿æ¯›ã®ç›®çš„ã¯ï¼Ÿ", answers: ["è¦‹ãŸç›®", "è™«ã‚ˆã‘", "ç¨®ã‚’é£›ã°ã™ãŸã‚"], correct: "ç¨®ã‚’é£›ã°ã™ãŸã‚", explanation: "é¢¨ã«ä¹—ã›ã¾ã™ã€‚" },
      { question: "æ˜¥åˆ†ã®æ—¥ã¯ä½•ã‚’ç¥ã†ï¼Ÿ", answers: ["å…ˆç¥–", "åƒãäºº", "è‡ªç„¶"], correct: "è‡ªç„¶", explanation: "è‡ªç„¶ã‚’ãŸãŸãˆã¾ã™ã€‚" }
    ];

    let currentIndex = 0;
    let score = 0;
    let timer;
    let timeLimit = 10;
    let shuffledQuiz = [];
    let startTime;

    function shuffle(array) {
      return array.sort(() => Math.random() - 0.5);
    }

    function showScreen(screenId) {
      document.getElementById("start-screen").classList.add("hidden");
      document.getElementById("quiz-screen").classList.add("hidden");
      document.getElementById("result-screen").classList.add("hidden");
      document.getElementById(screenId).classList.remove("hidden");
    }

    function startQuiz() {
      currentIndex = 0;
      score = 0;
      shuffledQuiz = shuffle([...quizData]);
      startTime = Date.now();
      showScreen("quiz-screen");
      loadQuiz();
    }

    function startTimer() {
      let timeLeft = timeLimit;
      document.getElementById("timer").textContent = `â³ ${timeLeft}ç§’`;
      timer = setInterval(() => {
        timeLeft--;
        document.getElementById("timer").textContent = `â³ ${timeLeft}ç§’`;
        if (timeLeft <= 0) {
          clearInterval(timer);
          autoNext();
        }
      }, 1000);
    }

    function loadQuiz() {
      clearInterval(timer);
      const quiz = shuffledQuiz[currentIndex];
      document.getElementById("question").textContent = `Q${currentIndex + 1}. ${quiz.question}`;
      document.getElementById("explanation").textContent = "";
      document.getElementById("result").textContent = "";

      const buttons = document.querySelectorAll(".answer-button");
      buttons.forEach((btn, i) => {
        btn.textContent = quiz.answers[i];
        btn.disabled = false;
        btn.style.backgroundColor = "#ffb6c1";
        btn.onclick = () => {
          clearInterval(timer);
          checkAnswer(btn, quiz.answers[i]);
        };
      });

      document.getElementById("next-btn").style.display = "none";
      startTimer();
    }

    function checkAnswer(button, selected) {
      const quiz = shuffledQuiz[currentIndex];
      const isCorrect = selected === quiz.correct;

      if (isCorrect) {
        score++;
        document.getElementById("result").textContent = "âœ… æ­£è§£ï¼";
        document.getElementById("result").style.color = "green";
      } else {
        document.getElementById("result").textContent = `âŒ ä¸æ­£è§£â€¦ æ­£è§£ã¯ã€Œ${quiz.correct}ã€`;
        document.getElementById("result").style.color = "red";
      }

      document.getElementById("explanation").textContent = `ğŸ’¡ è§£èª¬ï¼š${quiz.explanation}`;
      document.getElementById("next-btn").style.display = "inline-block";
      document.querySelectorAll(".answer-button").forEach(btn => btn.disabled = true);
    }

    function autoNext() {
      const quiz = shuffledQuiz[currentIndex];
      document.getElementById("result").textContent = "âŒ› æ™‚é–“åˆ‡ã‚Œâ€¦";
      document.getElementById("result").style.color = "gray";
      document.getElementById("explanation").textContent = `ğŸ’¡ è§£èª¬ï¼š${quiz.explanation}`;
      document.getElementById("next-btn").style.display = "inline-block";
      document.querySelectorAll(".answer-button").forEach(btn => btn.disabled = true);
    }

    function nextQuestion() {
      currentIndex++;
      if (currentIndex < 10) {
        loadQuiz();
      } else {
        clearInterval(timer);
        const totalTime = Math.floor((Date.now() - startTime) / 1000);
        showResult(score, totalTime);
      }
    }

    function showResult(score, time) {
      showScreen("result-screen");
      document.getElementById("score").textContent = `æ­£è§£æ•°ï¼š${score} / 10`;
      document.getElementById("rate").textContent = `æ­£ç­”ç‡ï¼š${Math.round(score * 10)}%ï¼ˆæ‰€è¦æ™‚é–“ï¼š${time}ç§’ï¼‰`;
      let comment = score === 10 ? "ğŸŒŸ ãƒ‘ãƒ¼ãƒ•ã‚§ã‚¯ãƒˆï¼" :
                    score >= 7 ? "âœ¨ ãƒŠã‚¤ã‚¹ãƒãƒ£ãƒ¬ãƒ³ã‚¸ï¼" :
                    score >= 4 ? "ğŸ‘ ãŒã‚“ã°ã£ãŸã­ï¼" :
                    "ğŸ’ª æ¬¡ã¯ã‚‚ã£ã¨æ­£è§£ã—ã‚ˆã†ï¼";
      document.getElementById("final-comment").textContent = comment;
    }

    function resetQuiz() {
      showScreen("start-screen");
    }

    window.onload = () => {
      showScreen("start-screen");
    };
  </script>
</body>
</html>
